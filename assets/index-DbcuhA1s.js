(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();document.querySelectorAll('.nav a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});const f=document.querySelectorAll("section[id], header[id]"),p=document.querySelectorAll('.nav-link[href^="#"]');function u(){const t=window.scrollY;let e="";f.forEach(o=>{const s=o.offsetTop-80,r=o.offsetHeight;t>=s&&t<s+r&&(e=o.getAttribute("id")||"")}),p.forEach(o=>{const s=o.getAttribute("href"),r=s==="#"?"":(s||"").slice(1);o.classList.toggle("active",r===e)})}window.addEventListener("scroll",()=>{u(),document.querySelector(".nav").classList.toggle("scrolled",window.scrollY>20)});window.addEventListener("load",u);var d;window.scrollY>20&&((d=document.querySelector(".nav"))==null||d.classList.add("scrolled"));const h=document.querySelectorAll("section, .hero"),v=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&e.target.classList.add("revealed")})},{threshold:.08,rootMargin:"0px 0px -40px 0px"});h.forEach(t=>v.observe(t));const l=document.getElementById("publications-list"),a=document.getElementById("pub-loading");l&&a&&fetch("/publications.json").then(t=>t.ok?t.json():[]).then(t=>{a.hidden=!0,t.length&&(l.hidden=!1,l.innerHTML=t.map((e,o)=>`
          <article class="pub-card" data-index="${o}">
            <div class="pub-card-preview">
              ${e.image?`<img src="${i(b(e.image))}" alt="" loading="lazy" />`:'<div class="pub-card-placeholder"><span>Paper</span></div>'}
              <span class="pub-card-year">${i(e.year)}</span>
            </div>
            <div class="pub-card-body">
              <h3 class="pub-card-title">${i(e.title)}</h3>
              <p class="pub-card-authors">${i(e.authors)}</p>
              <p class="pub-card-venue">${i(e.venue)}</p>
              <div class="pub-card-links">${g(e)}</div>
            </div>
          </article>`).join(""))}).catch(()=>{a.textContent="Publications could not be loaded. Run: node scripts/bib-to-json.js"});function i(t){if(!t)return"";const e=document.createElement("div");return e.textContent=t,e.innerHTML}function b(t){if(!t)return"";const e=String(t).trim();return e.startsWith("http://")||e.startsWith("https://")?e:"/publication_preview/"+e.replace(/^\//,"")}function g(t){const e=[];return t.pdf&&e.push(`<a href="${i(t.pdf)}" target="_blank" rel="noopener">PDF</a>`),t.website&&e.push(`<a href="${i(t.website)}" target="_blank" rel="noopener">Website</a>`),t.code&&e.push(`<a href="${i(t.code)}" target="_blank" rel="noopener">Code</a>`),e.join("")}
